(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"./components/comment/demo/index.js":function(e,t,n){"use strict";n("./node_modules/antd/es/divider/style/css.js");var a=n("./node_modules/antd/es/divider/index.js"),s=(n("./node_modules/antd/es/button/style/css.js"),n("./node_modules/antd/es/button/index.js")),i=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),o=n.n(i),l=n("./node_modules/@babel/runtime/helpers/createClass.js"),r=n.n(l),c=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),m=n.n(c),d=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),u=n.n(d),p=n("./node_modules/@babel/runtime/helpers/inherits.js"),h=n.n(p),v=n("./node_modules/react/index.js"),k=n.n(v),y=n("./node_modules/moment/moment.js"),f=n.n(y),g=(n("./node_modules/antd/es/avatar/style/css.js"),n("./node_modules/antd/es/avatar/index.js")),b=(n("./node_modules/antd/es/icon/style/css.js"),n("./node_modules/antd/es/icon/index.js")),C=function(e){function t(e){var n;return o()(this,t),(n=m()(this,u()(t).call(this,e))).like=function(){n.props.voteClick(!0,n.props.commentId),n.setState({action:"liked"})},n.dislike=function(){n.props.voteClick(!1,n.props.commentId),n.setState({action:"disliked"})},n.state={action:"liked"},n}return h()(t,e),r()(t,[{key:"render",value:function(){var e=this.state.action,t=this.props,n=t.like,a=t.dislike;return k.a.createElement(k.a.Fragment,null,k.a.createElement("span",{className:"time-style",style:{paddingRight:5}},k.a.createElement(b.a,{type:"like",theme:"liked"===e?"filled":"outlined",onClick:this.like}),k.a.createElement("span",{style:{paddingLeft:5,cursor:"auto"}},n)),k.a.createElement("span",{className:"time-style",style:{paddingRight:5}},k.a.createElement(b.a,{type:"dislike",theme:"disliked"===e?"filled":"outlined",onClick:this.dislike}),k.a.createElement("span",{style:{paddingLeft:5,cursor:"auto"}},a)))}}]),t}(v.Component),x=function(e){function t(e){var n;return o()(this,t),(n=m()(this,u()(t).call(this,e))).replyComment=function(e,t){var a=f()().format("YYYY-MM-DD HH:mm:ss"),s=t.target.previousSibling.previousSibling.firstElementChild.value;n.props.replySubmit(e,s,a)},n.showCommentTag=function(e){e.currentTarget.nextSibling.style.display="block"},n.closeComment=function(e){e.target.previousSibling.firstElementChild.value="",n.setState({info:"还可以输入".concat(n.props.maxLength,"个字！")}),e.target.parentNode.style.display="none"},n.showCommentAll=function(){n.setState({showCommentAll:!0})},n.mergeComment=function(){n.setState({showCommentAll:!1})},n.voteClick=function(e,t){n.props.voteClick(e,t)},n.state={maxLength:0,isVote:!0,info:"",showCommentAll:!1,data:[{author:"张三",avatar:"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png",creationDate:"2019-08-28",commentId:"111",content:"66666666666666666667",like:10,dislike:3,children:[{author:"张三",avatar:"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png",creationDate:"2019-08-28",commentId:"222",content:"65345436534765537564475788758",like:10,dislike:3}]},{author:"张三",avatar:"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png",creationDate:"2019-08-28",commentId:"111",content:"66666666666666666667",like:10,dislike:3,children:[{author:"张三",avatar:"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png",creationDate:"2019-08-28",commentId:"222",content:"65345436534765537564475788758",like:10,dislike:3}]}]},n}return h()(t,e),r()(t,[{key:"componentDidMount",value:function(){this.setState({maxLength:this.props.maxLength,isVote:this.props.isVote,data:this.props.data})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props!=e&&this.setState({maxLength:e.maxLength,isVote:e.isVote,data:e.data})}},{key:"changeWords",value:function(e){var t=this.state.maxLength,n=e.target.value,a=n.length;a>t?(e.target.nextSibling.value="不能输入超过".concat(t,"个字!"),e.target.value=n.slice(0,t)):e.target.nextSibling.value="还可以输入".concat(t-a,"个字！")}},{key:"render",value:function(){var e=this,t=this.state,n=t.showCommentAll,a=t.data,i=t.maxLength,o=t.isVote;return k.a.createElement("div",{className:"comment-box",key:a.commentId},k.a.createElement("div",{className:"comment-avatar"},k.a.createElement(g.a,{src:a.avatar,alt:a.author})),k.a.createElement("div",{style:{width:"100%"}},k.a.createElement("div",null,k.a.createElement("span",{className:"author-style"},a.author?a.author:"匿名"),k.a.createElement("span",{className:"time-style"},a.creationDate)),k.a.createElement("p",{className:"content-style"},a.content),k.a.createElement("div",{style:{width:"100%"}},o?k.a.createElement(C,{voteClick:this.voteClick,commentId:a.commentId,like:a.like,dislike:a.dislike}):"",k.a.createElement("span",{onClick:this.showCommentTag.bind(this),className:"click-style"},"回复"),k.a.createElement("div",{className:"answer-second"},k.a.createElement("div",null,k.a.createElement("textarea",{maxLength:i,onChange:this.changeWords.bind(this)}),k.a.createElement("input",{disabled:!0,value:this.state.info})),k.a.createElement(s.a,{onClick:this.closeComment.bind(this)},"取消"),k.a.createElement(s.a,{type:"primary",onClick:this.replyComment.bind(this,a.commentId)},"回复"))),k.a.createElement("div",{className:"comment-reply"},a.children?0==n?a.children.slice(0,3).map(function(t,n){return k.a.createElement("div",{key:n},k.a.createElement("div",{className:"comment-avatar"},k.a.createElement(g.a,{src:t.avatar,alt:t.author})),k.a.createElement("div",null,k.a.createElement("div",null,k.a.createElement("span",{className:"author-style"},t.author?t.author:"匿名"),k.a.createElement("span",{className:"time-style"},t.creationDate)),k.a.createElement("p",{className:"content-style"},t.content),o?k.a.createElement(C,{voteClick:e.voteClick,commentId:t.commentId,like:t.like,dislike:t.dislike}):""))}):a.children.map(function(t,n){return k.a.createElement("div",{key:n},k.a.createElement("div",{className:"comment-avatar"},k.a.createElement(g.a,{src:t.avatar,alt:t.author})),k.a.createElement("div",null,k.a.createElement("div",null,k.a.createElement("span",{className:"author-style"},t.author?t.author:"匿名"),k.a.createElement("span",{className:"time-style"},t.creationDate)),k.a.createElement("p",{className:"content-style"},t.content),o?k.a.createElement(C,{voteClick:e.voteClick,commentId:t.commentId,like:t.like,dislike:t.dislike}):""))}):null,a.children&&a.children.length>3?0==n?k.a.createElement("p",{className:"click-style",onClick:this.showCommentAll},"查看全部",a.children.length,"条回复 >"):k.a.createElement("p",{className:"click-style",onClick:this.mergeComment},"收起"):"")))}}]),t}(v.Component),E=function(e){function t(e){var n;return o()(this,t),(n=m()(this,u()(t).call(this,e))).replyComment=function(e){var t=f()().format("YYYY-MM-DD HH:mm:ss"),a=e.target.previousSibling.previousSibling.firstElementChild.value;n.props.replySubmit("",a,t)},n.resetComment=function(e){e.target.previousSibling.firstElementChild.value="",n.setState({info:"还可以输入".concat(n.props.maxLength,"个字！")})},n.state={maxLength:0,isVote:!0,info:"",data:[]},n}return h()(t,e),r()(t,[{key:"componentDidMount",value:function(){this.setState({maxLength:this.props.maxLength,isVote:this.props.isVote,data:this.props.data})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props!=e&&this.setState({maxLength:e.maxLength,isVote:e.isVote,data:e.data})}},{key:"changeWords",value:function(e){var t=this.state.maxLength,n=e.target.value,a=n.length;a>t?(e.target.nextSibling.value="不能输入超过".concat(t,"个字!"),e.target.value=n.slice(0,t)):e.target.nextSibling.value="还可以输入".concat(t-a,"个字！")}},{key:"render",value:function(){var e=this,t=this.state,n=t.data,i=t.maxLength,o=t.isVote;return k.a.createElement("div",{style:{backgroundColor:"#fff"}},k.a.createElement("div",{className:"answer-first"},k.a.createElement("div",null,k.a.createElement("textarea",{maxLength:i,onChange:this.changeWords.bind(this)}),k.a.createElement("input",{disabled:!0,value:this.state.info})),k.a.createElement(s.a,{onClick:this.resetComment.bind(this)},"重置"),k.a.createElement(s.a,{type:"primary",onClick:this.replyComment.bind(this)},"回复")),k.a.createElement(a.a,null),n.map(function(t,n){return k.a.createElement(x,{key:n,data:t,maxLength:i,isVote:o,replySubmit:e.props.replySubmit,voteClick:e.props.voteClick})}))}}]),t}(v.Component);t.a=E},"./components/comment/demo/style/index.pcss":function(e,t,n){},"./node_modules/antd/es/divider/index.js":function(e,t,n){"use strict";var a=n("./node_modules/react/index.js"),s=n("./node_modules/classnames/index.js"),i=n.n(s),o=n("./node_modules/antd/es/config-provider/index.js");function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(n[a[s]]=e[a[s]])}return n};t.a=function(e){return a.createElement(o.a,null,function(t){var n,s=t.getPrefixCls,o=e.prefixCls,m=e.type,d=void 0===m?"horizontal":m,u=e.orientation,p=void 0===u?"center":u,h=e.className,v=e.children,k=e.dashed,y=c(e,["prefixCls","type","orientation","className","children","dashed"]),f=s("divider",o),g=p.length>0?"-".concat(p):p,b=i()(h,f,"".concat(f,"-").concat(d),(r(n={},"".concat(f,"-with-text").concat(g),v),r(n,"".concat(f,"-dashed"),!!k),n));return a.createElement("div",l({className:b},y,{role:"separator"}),v&&a.createElement("span",{className:"".concat(f,"-inner-text")},v))})}},"./node_modules/antd/es/divider/style/css.js":function(e,t,n){"use strict";n("./node_modules/antd/es/style/index.css"),n("./node_modules/antd/es/divider/style/index.css")},"./node_modules/antd/es/divider/style/index.css":function(e,t,n){},"./src/pages/comment/CommentPage.js":function(e,t,n){"use strict";n.r(t);n("./node_modules/react-code-previewer/es/preview-layout/style/css.js");var a=n("./node_modules/react-code-previewer/es/preview-layout/index.js"),s=(n("./node_modules/react-code-previewer/es/code-previewer/style/css.js"),n("./node_modules/react-code-previewer/es/code-previewer/index.js")),i=(n("./node_modules/react-code-previewer/es/md-previewer/style/css.js"),n("./node_modules/react-code-previewer/es/md-previewer/index.js")),o=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),l=n.n(o),r=n("./node_modules/@babel/runtime/helpers/createClass.js"),c=n.n(r),m=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),d=n.n(m),u=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),p=n.n(u),h=n("./node_modules/@babel/runtime/helpers/inherits.js"),v=n.n(h),k=n("./node_modules/react/index.js"),y=n.n(k),f=n("./components/comment/demo/index.js"),g=(n("./components/comment/demo/style/index.pcss"),function(e){function t(e){var n;return l()(this,t),(n=d()(this,p()(t).call(this,e))).replySubmit=function(e,t,a){var s=n.state.data,i=(1e4*Math.random()).toFixed(0);""===e?s.push({author:"张三",avatar:"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png",creationDate:a,commentId:i,content:t,like:0,dislike:0,children:[]}):s.map(function(n){n.commentId==e&&n.children.push({author:"张三",avatar:"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png",creationDate:a,commentId:i,content:t,like:0,dislike:0})}),n.setState({data:s})},n.voteClick=function(e,t){var a=n.state.data;a.map(function(n){n.commentId==t?!0===e?n.like+=1:n.dislike+=1:n.children.map(function(n){n.commentId==t&&(!0===e?n.like+=1:n.dislike+=1)})}),n.setState({data:a})},n.state={data:[{author:"张三",avatar:"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png",creationDate:"2019-08-28",commentId:"100",content:"6666",like:10,dislike:3,children:[{author:"张三",avatar:"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png",creationDate:"2019-08-28",commentId:"110",content:"6534543",like:10,dislike:3}]}]},n}return v()(t,e),c()(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return y.a.createElement(a.a,null,y.a.createElement(i.a,{md:"# Comment\n\n"}),y.a.createElement(s.a,{code:'import React, { Component } from "react";\nimport { HdComment } from \'hiynn-design\';\nimport \'hiynn-design/dist/hiynn-design.css\';\n\nclass DemoPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: [\n        {\n          author: "张三",\n          avatar: "https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png",\n          creationDate: "2019-08-28",\n          commentId: "100",\n          content: "6666",\n          like: 10,\n          dislike: 3,\n          children: [\n            {\n              author: "张三",\n              avatar: "https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png",\n              creationDate: "2019-08-28",\n              commentId: "110",\n              content: "6534543",\n              like: 10,\n              dislike: 3,\n            }\n          ]\n        },\n      ]\n    }\n  }\n  replySubmit = (commentId, value, time) => {\n    let data = this.state.data;\n    let num = (Math.random() * 10000).toFixed(0);\n    if (commentId === \'\') {\n      data.push(\n        {\n          author: "张三",\n          avatar: "https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png",\n          creationDate: time,\n          commentId: num,\n          content: value,\n          like: 0,\n          dislike: 0,\n          children: []\n        }\n      )\n    } else {\n      data.map(item => {\n        if (item.commentId == commentId) {\n          item.children.push(\n            {\n              author: "张三",\n              avatar: "https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png",\n              creationDate: time,\n              commentId: num,\n              content: value,\n              like: 0,\n              dislike: 0,\n            }\n          )\n        }\n      })\n    }\n    this.setState({ data });\n  }\n  voteClick = (value, commentId) => {\n    let data = this.state.data;\n    data.map(item => {\n      if (item.commentId == commentId) {\n        if (value === true) {\n          item.like += 1;\n        } else {\n          item.dislike += 1;\n        }\n      } else {\n        item.children.map(val => {\n          if (val.commentId == commentId) {\n            if (value === true) {\n              val.like += 1;\n            } else {\n              val.dislike += 1;\n            }\n          }\n        })\n      }\n    })\n    this.setState({ data });\n  }\n  render() {\n    return (\n          <HdComment\n            maxLength={2000}//输入框输入最多字数\n            isVote={true}//是否显示点赞\n            data={this.state.data}//渲染数据\n            replySubmit={this.replySubmit}//点击回复的回调函数\n            voteClick={this.voteClick}//点赞的回调函数\n          />\n    );\n  }\n}\nexport default DemoPage;\n',showCode:!0},y.a.createElement(f.a,{maxLength:2e3,isVote:!0,data:this.state.data,replySubmit:this.replySubmit,voteClick:this.voteClick})),y.a.createElement(i.a,{md:"# Api\n\n| 参数     |          | 说明     | 类型 | 默认值 | 版本 |\n| --------|----       | ------- | ------- | ------- | ------- |\n| data    |           | 需要传入的数据 | array  | null     | v0.24  |\n|         |author     | 评论人名称 | string   | null       | v0.24       |\n|         |avatar  | 头像图片链接 | string | null       | v0.24        |\n|         |creationDate  | 评论日期 | string | null       | v0.24        |\n|         |commentId  | 评论id | string   | null       | v0.24        |\n|         |content  | 评论内容 | string  | null       | v0.24        |\n|         |like   | 点赞数 | number   | null       | v0.24       |\n|         |dislike| 不喜欢数 | number    | null       | v0.24 |\n|         |children     | 二级回复数组 | array     | null       | v0.24      |\n| maxLength|| 评论框能输入的最大字符长度  | number     | 2000   | v0.24     |\n| isVote  | |是否显示点赞 |boolean|true| v0.24|\n| replySubmit  || 点击回复的回调函数|function|(commentId, value, time) => {}| v0.24|\n| voteClick  ||  点赞的回调函数|function|(value, commentId) => {}| v0.24|\n"}))}}]),t}(k.Component));t.default=g}}]);
//# sourceMappingURL=16.chunk.js.map