{"version":3,"sources":["../../components/hd-radio/index.js"],"names":["axios","React","returnName","HdRadio","props","fetchOptions","url","get","then","res","data","code","setState","options","value","find","item","checked","onChange","name","state","catch","err","console","log","ev","target","componentWillMount","componentWillReceiveProps","nextProps","render","disabled","buttonStyle","length","style","width","height","map","Component"],"mappings":";;;;;;;;;;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,IAAMC,UAAU,GAAG,OAAnB;;IAEMC,O;;;AACJ,mBAAYC,KAAZ,EAAmB;AAAA;;AACjB,wCAAMA,KAAN;;AADiB,UAyBnBC,YAzBmB,GAyBJ,UAAAC,GAAG,EAAI;AACpBN,MAAAA,KAAK,CAACO,GAAN,CAAUD,GAAV,EAAeE,IAAf,CAAoB,UAAAC,GAAG,EAAI;AACzB,YAAIA,GAAG,CAACC,IAAJ,CAASC,IAAT,IAAiB,GAArB,EAA0B;;AAC1B,cAAKC,QAAL,CAAc;AACZC,UAAAA,OAAO,EAAEJ,GAAG,CAACC,IAAJ,CAASA,IAAT,CAAcG,OADX;AAEZC,UAAAA,KAAK,EAAE,CAACL,GAAG,CAACC,IAAJ,CAASA,IAAT,CAAcG,OAAd,CAAsBE,IAAtB,CAA2B,UAAAC,IAAI;AAAA,mBAAIA,IAAI,CAACC,OAAT;AAAA,WAA/B,KAAoD,EAArD,EAAyDH;AAFpD,SAAd,EAGG,YAAM;AACP,gBAAKV,KAAL,CAAWc,QAAX,IAAuB,MAAKd,KAAL,CAAWc,QAAX,CAAoB;AACzCC,YAAAA,IAAI,EAAEjB,UADmC;AAEzCY,YAAAA,KAAK,EAAE,MAAKM,KAAL,CAAWN;AAFuB,WAApB,CAAvB;AAID,SARD;AASD,OAXD,EAWGO,KAXH,CAWS,UAAAC,GAAG,EAAI;AACdC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD,OAbD;AAcD,KAxCkB;;AAAA,UA0CnBJ,QA1CmB,GA0CR,UAAAO,EAAE,EAAI;AACf,YAAKb,QAAL,CAAc;AACZE,QAAAA,KAAK,EAAEW,EAAE,CAACC,MAAH,CAAUZ;AADL,OAAd,EAEG,YAAM;AACP,cAAKV,KAAL,CAAWc,QAAX,IAAuB,MAAKd,KAAL,CAAWc,QAAX,CAAoB;AACzCC,UAAAA,IAAI,EAAEjB,UADmC;AAEzCY,UAAAA,KAAK,EAAE,MAAKM,KAAL,CAAWN;AAFuB,SAApB,CAAvB;AAID,OAPD;AAQD,KAnDkB;;AAEjB,UAAKM,KAAL,GAAc,YAAM;AAClB,UAAMP,OAAO,GAAG,MAAKT,KAAL,CAAWS,OAAX,IAAsB,EAAtC;AACA,UAAMC,KAAK,GAAG,CAACD,OAAO,CAACE,IAAR,CAAa,UAAAC,IAAI;AAAA,eAAIA,IAAI,CAACC,OAAT;AAAA,OAAjB,KAAsC,EAAvC,EAA2CH,KAAzD;AACA,aAAO;AAACD,QAAAA,OAAO,EAAPA,OAAD;AAAUC,QAAAA,KAAK,EAALA;AAAV,OAAP;AACD,KAJY,EAAb;;AAFiB;AAOlB;;;;SAEDa,kB,GAAA,8BAAqB;AACnB,QAAI,KAAKvB,KAAL,CAAWE,GAAf,EAAoB;AAClB,WAAKD,YAAL,CAAkB,KAAKD,KAAL,CAAWE,GAA7B;AACD;AACF,G;;SAEDsB,yB,GAAA,mCAA0BC,SAA1B,EAAqC;AACnC,QAAI,KAAKzB,KAAL,CAAWE,GAAX,KAAmBuB,SAAS,CAACvB,GAAjC,EAAsC;AACpC,WAAKD,YAAL,CAAkBwB,SAAS,CAACvB,GAA5B;AACD,KAFD,MAEO,IAAI,KAAKF,KAAL,CAAWS,OAAX,KAAuBgB,SAAS,CAAChB,OAArC,EAA8C;AACnD,UAAMA,OAAO,GAAGgB,SAAS,CAAChB,OAAV,IAAqB,EAArC;AACA,UAAMC,KAAK,GAAG,CAACD,OAAO,CAACE,IAAR,CAAa,UAAAC,IAAI;AAAA,eAAIA,IAAI,CAACC,OAAT;AAAA,OAAjB,KAAsC,EAAvC,EAA2CH,KAAzD;AACA,WAAKF,QAAL,CAAc;AAACC,QAAAA,OAAO,EAAPA,OAAD;AAAUC,QAAAA,KAAK,EAALA;AAAV,OAAd;AACD;AACF,G;;SA8BDgB,M,GAAA,kBAAS;AAAA,QAELZ,QAFK,GAGH,IAHG,CAELA,QAFK;AAAA,sBASH,KAAKd,KATF;AAAA,QAML2B,QANK,eAMLA,QANK;AAAA,QAOLZ,IAPK,eAOLA,IAPK;AAAA,QAQLa,WARK,eAQLA,WARK;AAAA,sBAcH,KAAKZ,KAdF;AAAA,QAYLP,OAZK,eAYLA,OAZK;AAAA,QAaLC,KAbK,eAaLA,KAbK;AAgBP,QAAI,CAACD,OAAO,CAACoB,MAAb,EAAqB,OAAO,IAAP;AAErB,WACE,2BAAO,KAAP;AACE,MAAA,SAAS,EAAC,gBADZ;AAEE,MAAA,KAAK,kCACA,KAAK7B,KAAL,CAAW8B,KADX;AAEHC,QAAAA,KAAK,EAAE,KAAK/B,KAAL,CAAW+B,KAFf;AAGHC,QAAAA,MAAM,EAAE,KAAKhC,KAAL,CAAWgC;AAHhB;AAFP,OAOM;AACFlB,MAAAA,QAAQ,EAARA,QADE;AAEFa,MAAAA,QAAQ,EAARA,QAFE;AAGFZ,MAAAA,IAAI,EAAJA,IAHE;AAIFa,MAAAA,WAAW,EAAXA,WAJE;AAKFlB,MAAAA,KAAK,EAALA;AALE,KAPN,GAeGD,OAAO,CAACwB,GAAR,CAAY,UAAArB,IAAI,EAAI;AAAA,UAEjBF,KAFiB,GAIfE,IAJe,CAEjBF,KAFiB;AAAA,UAGjBK,IAHiB,GAIfH,IAJe,CAGjBG,IAHiB;AAKnB,aAAO,2BAAO,MAAP;AACL,QAAA,GAAG,EAAEL;AADA,SAED;AACFA,QAAAA,KAAK,EAALA;AADE,OAFC,GAKLK,IALK,CAAP;AAMD,KAXA,CAfH,CADF;AA8BD,G;;;EAtGmBlB,KAAK,CAACqC,S;;AAyG5B,eAAenC,OAAf","sourcesContent":["import {Radio} from 'antd';\nimport axios from 'axios';\nimport React from 'react';\n\nconst returnName = 'title';\n\nclass HdRadio extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = (() => {\n      const options = this.props.options || [];\n      const value = (options.find(item => item.checked) || {}).value;\n      return {options, value};\n    })();\n  }\n\n  componentWillMount() {\n    if (this.props.url) {\n      this.fetchOptions(this.props.url);\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (this.props.url !== nextProps.url) {\n      this.fetchOptions(nextProps.url);\n    } else if (this.props.options !== nextProps.options) {\n      const options = nextProps.options || [];\n      const value = (options.find(item => item.checked) || {}).value;\n      this.setState({options, value});\n    }\n  }\n\n  fetchOptions = url => {\n    axios.get(url).then(res => {\n      if (res.data.code != 200) return;\n      this.setState({\n        options: res.data.data.options,\n        value: (res.data.data.options.find(item => item.checked) || {}).value,\n      }, () => {\n        this.props.onChange && this.props.onChange({\n          name: returnName,\n          value: this.state.value,\n        });\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  onChange = ev => {\n    this.setState({\n      value: ev.target.value,\n    }, () => {\n      this.props.onChange && this.props.onChange({\n        name: returnName,\n        value: this.state.value,\n      });\n    });\n  };\n\n  render() {\n    const {\n      onChange,\n    } = this;\n\n    const {\n      disabled,\n      name,\n      buttonStyle,\n    } = this.props;\n\n    const {\n      options,\n      value,\n    } = this.state;\n\n    if (!options.length) return null;\n\n    return (\n      <Radio.Group\n        className=\"hd-radio-group\"\n        style={{\n          ...this.props.style,\n          width: this.props.width,\n          height: this.props.height,\n        }}\n        {...{\n          onChange,\n          disabled,\n          name,\n          buttonStyle,\n          value,\n        }}\n      >\n        {options.map(item => {\n          const {\n            value,\n            name,\n          } = item;\n          return <Radio.Button\n            key={value}\n            {...{\n              value,\n            }}\n          >{name}</Radio.Button>\n        })}\n      </Radio.Group>\n    )\n  }\n}\n\nexport default HdRadio;\n"],"file":"index.js"}