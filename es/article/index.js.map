{"version":3,"sources":["../../components/article/index.js"],"names":["React","Component","When","Article","props","entGoog","setState","preState","voteStatus","giveLike","state","data","title","blockName","ownerName","viewCount","replyCount","voteCount","creationDate","content","componentDidMount","UNSAFE_componentWillReceiveProps","nextprops","render","__html","bind"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,SAASC,IAAT,QAAqB,UAArB;;IAEMC,O;;;AACJ,mBAAYC,KAAZ,EAAmB;AAAA;;AACjB,kCAAMA,KAAN;;AADiB,UAkCnBC,OAlCmB,GAkCT,YAAM;AACd,YAAKC,QAAL,CACE,UAAAC,QAAQ,EAAI;AACV,eAAO;AACLC,UAAAA,UAAU,EAAE,CAACD,QAAQ,CAACC;AADjB,SAAP;AAGD,OALH,EAME,YAAM;AACJ,cAAKJ,KAAL,CAAWK,QAAX,CAAoB,MAAKC,KAAL,CAAWF,UAA/B;AACD,OARH;AAUD,KA7CkB;;AAEjB,UAAKE,KAAL,GAAa;AACXF,MAAAA,UAAU,EAAE,KADD;AAEXG,MAAAA,IAAI,EAAE;AACJC,QAAAA,KAAK,EAAE,IADH;AAEJC,QAAAA,SAAS,EAAE,IAFP;AAGJC,QAAAA,SAAS,EAAE,IAHP;AAIJC,QAAAA,SAAS,EAAE,IAJP;AAKJC,QAAAA,UAAU,EAAE,IALR;AAMJC,QAAAA,SAAS,EAAE,IANP;AAOJC,QAAAA,YAAY,EAAE,IAPV;AAQJC,QAAAA,OAAO,EAAE;AARL;AAFK,KAAb;AAFiB;AAelB;;;;SAEDC,iB,GAAA,6BAAoB;AAClB,SAAKd,QAAL,CAAc;AACZE,MAAAA,UAAU,EAAE,KAAKJ,KAAL,CAAWI,UADX;AAEZG,MAAAA,IAAI,EAAE,KAAKP,KAAL,CAAWO;AAFL,KAAd;AAID,G;;SAEDU,gC,GAAA,0CAAiCC,SAAjC,EAA4C;AAC1C,QAAI,KAAKlB,KAAL,IAAckB,SAAlB,EAA6B;AAC3B,WAAKhB,QAAL,CAAc;AACZE,QAAAA,UAAU,EAAEc,SAAS,CAACd,UADV;AAEZG,QAAAA,IAAI,EAAEW,SAAS,CAACX;AAFJ,OAAd;AAID;AACF,G;;SAeDY,M,GAAA,kBAAS;AAAA,QACCZ,IADD,GACU,KAAKP,KADf,CACCO,IADD;AAAA,QAECH,UAFD,GAEgB,KAAKE,KAFrB,CAECF,UAFD;AAGP,WACE;AAAK,MAAA,SAAS,EAAC;AAAf,OACE,gCAAKG,IAAI,CAACC,KAAL,GAAaD,IAAI,CAACC,KAAlB,GAA0B,EAA/B,CADF,EAEE;AAAK,MAAA,SAAS,EAAC;AAAf,OACE,oBAAC,IAAD;AAAM,MAAA,SAAS,EAAED,IAAI,CAACE;AAAtB,OACE,oDAAWF,IAAI,CAACE,SAAhB,CADF,CADF,EAIE,oBAAC,IAAD;AAAM,MAAA,SAAS,EAAEF,IAAI,CAACG;AAAtB,OACE,oDAAWH,IAAI,CAACG,SAAhB,CADF,CAJF,EAOE,oBAAC,IAAD;AAAM,MAAA,SAAS,EAAEH,IAAI,CAACI;AAAtB,OACE,kCACE;AAAM,MAAA,IAAI,EAAC;AAAX,MADF,EAEE,kCAAOJ,IAAI,CAACI,SAAZ,CAFF,CADF,CAPF,EAaE,oBAAC,IAAD;AAAM,MAAA,SAAS,EAAEJ,IAAI,CAACK;AAAtB,OACE,kCACE;AAAM,MAAA,IAAI,EAAC;AAAX,MADF,EAEE,kCAAOL,IAAI,CAACK,UAAZ,CAFF,CADF,CAbF,EAmBE,oBAAC,IAAD;AAAM,MAAA,SAAS,EAAEL,IAAI,CAACM;AAAtB,OACE,kCACE;AAAM,MAAA,IAAI,EAAC;AAAX,MADF,EAEE,kCAAON,IAAI,CAACM,SAAZ,CAFF,CADF,CAnBF,EAyBE,oBAAC,IAAD;AAAM,MAAA,SAAS,EAAEN,IAAI,CAACO;AAAtB,OACE,0DAAYP,IAAI,CAACO,YAAjB,CADF,CAzBF,CAFF,EA+BE;AAAK,MAAA,SAAS,EAAC,SAAf;AAAyB,MAAA,uBAAuB,EAAE;AAAEM,QAAAA,MAAM,EAAEb,IAAI,CAACQ;AAAf;AAAlD,MA/BF,EAgCE,mCAhCF,EAiCE;AAAK,MAAA,SAAS,EAAC;AAAf,OACE,iCACE;AAAK,MAAA,OAAO,EAAE,KAAKd,OAAL,CAAaoB,IAAb,CAAkB,IAAlB;AAAd,OACE;AAAM,MAAA,IAAI,EAAC,MAAX;AAAkB,MAAA,KAAK,EAAEjB,UAAU,GAAG,QAAH,GAAc;AAAjD,MADF,EAEE,+BAAIA,UAAU,GAAG,KAAH,GAAW,IAAzB,CAFF,CADF,EAKE,+BAAIG,IAAI,CAACM,SAAT,uBALF,CADF,CAjCF,CADF;AA6CD,G;;;EA/FmBhB,S;;AAkGtB,eAAeE,OAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { Icon, Divider } from \"antd\";\nimport { When } from \"react-if\";\n\nclass Article extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      voteStatus: false,\n      data: {\n        title: null,\n        blockName: null,\n        ownerName: null,\n        viewCount: null,\n        replyCount: null,\n        voteCount: null,\n        creationDate: null,\n        content: null\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      voteStatus: this.props.voteStatus,\n      data: this.props.data\n    });\n  }\n\n  UNSAFE_componentWillReceiveProps(nextprops) {\n    if (this.props != nextprops) {\n      this.setState({\n        voteStatus: nextprops.voteStatus,\n        data: nextprops.data\n      });\n    }\n  }\n\n  //点赞\n  entGoog = () => {\n    this.setState(\n      preState => {\n        return {\n          voteStatus: !preState.voteStatus\n        };\n      },\n      () => {\n        this.props.giveLike(this.state.voteStatus);\n      }\n    );\n  };\n  render() {\n    const { data } = this.props;\n    const { voteStatus } = this.state;\n    return (\n      <div className=\"article-container\">\n        <h1>{data.title ? data.title : \"\"}</h1>\n        <div className=\"subheader\">\n          <When condition={data.blockName}>\n            <span>板块: {data.blockName}</span>\n          </When>\n          <When condition={data.ownerName}>\n            <span>作者: {data.ownerName}</span>\n          </When>\n          <When condition={data.viewCount}>\n            <span>\n              <Icon type=\"eye\" />\n              <span>{data.viewCount}</span>\n            </span>\n          </When>\n          <When condition={data.replyCount}>\n            <span>\n              <Icon type=\"message\" />\n              <span>{data.replyCount}</span>\n            </span>\n          </When>\n          <When condition={data.voteCount}>\n            <span>\n              <Icon type=\"like\" />\n              <span>{data.voteCount}</span>\n            </span>\n          </When>\n          <When condition={data.creationDate}>\n            <span>发表于: {data.creationDate}</span>\n          </When>\n        </div>\n        <div className=\"content\" dangerouslySetInnerHTML={{ __html: data.content }} />\n        <Divider />\n        <div className=\"ent-good\">\n          <div>\n            <div onClick={this.entGoog.bind(this)}>\n              <Icon type=\"like\" theme={voteStatus ? \"filled\" : \"outlined\"} />\n              <p>{voteStatus ? \"已点赞\" : \"点赞\"}</p>\n            </div>\n            <p>{data.voteCount}人已赞</p>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Article;\n"],"file":"index.js"}