{"version":3,"sources":["../../../components/hd-comment/demo/index.js"],"names":["React","Component","moment","Comment","Demo","props","replyComment","e","commentId","time","format","value","target","previousSibling","firstElementChild","replySubmit","resetComment","setState","info","maxLength","state","isVote","data","componentDidMount","UNSAFE_componentWillReceiveProps","nextprops","changeWords","val","length","nextSibling","slice","render","backgroundColor","bind","map","index","voteClick"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport moment from 'moment';\nimport { Divider, Button } from 'antd';\nimport Comment from './comment';\n\nclass Demo extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      maxLength: 0,\n      isVote: true,\n      info: '',\n      data: [],\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      maxLength: this.props.maxLength,\n      isVote: this.props.isVote,\n      data: this.props.data\n    })\n  }\n\n  UNSAFE_componentWillReceiveProps(nextprops) {\n    if (this.props != nextprops) {\n      this.setState({\n        maxLength: nextprops.maxLength,\n        isVote: nextprops.isVote,\n        data: nextprops.data\n      })\n    }\n  }\n\n  replyComment = (e) => {\n    let commentId = '';\n    let time = moment().format('YYYY-MM-DD HH:mm:ss');\n    let value = e.target.previousSibling.previousSibling.firstElementChild.value;\n    this.props.replySubmit(commentId, value, time);\n  }\n\n\n  resetComment = (e) => {\n    e.target.previousSibling.firstElementChild.value = '';\n    this.setState({\n      info: `还可以输入${this.props.maxLength}个字！`\n    })\n  }\n\n\n  changeWords(e) {\n    let maxLength = this.state.maxLength;\n    let val = e.target.value;\n    let length = val.length;\n    if (length > maxLength) {\n      e.target.nextSibling.value = `不能输入超过${maxLength}个字!`;\n      e.target.value = val.slice(0, maxLength);\n    } else {\n      e.target.nextSibling.value = `还可以输入${maxLength - length}个字！`;\n    }\n  }\n\n  render() {\n    const { data, maxLength, isVote } = this.state;\n    return (\n      <div style={{ backgroundColor: \"#fff\" }}>\n        <div className='answer-first'>\n          <div>\n            <textarea maxLength={maxLength} onChange={this.changeWords.bind(this)}></textarea>\n            <input disabled value={this.state.info} />\n          </div>\n          <Button onClick={this.resetComment.bind(this)}>重置</Button>\n          <Button type='primary' onClick={this.replyComment.bind(this)}>回复</Button>\n        </div>\n        <Divider />\n        {\n          data.map((val, index) =>\n            <Comment\n              key={index}\n              data={val}\n              maxLength={maxLength}\n              isVote={isVote}\n              replySubmit={this.props.replySubmit}\n              voteClick={this.props.voteClick}\n            />)\n        }\n      </div>\n    );\n  }\n}\n\nexport default Demo;"],"file":"index.js"}