{"version":3,"sources":["../../components/comment/reply.js"],"names":["React","Component","moment","TextArea","Editor","onCancel","onChange","onSubmit","submitting","value","textAlign","marginRight","Reply","props","handleSubmit","state","time","format","commentid","replySubmit","setState","handleChange","e","target","isMain","render","loginInfo","loginAvatar","loginName"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport moment from 'moment';\nimport { Avatar, Form, Button, Input, Comment } from 'antd';\nconst { TextArea } = Input;\n\nconst Editor = ({ onCancel, onChange, onSubmit, submitting, value }) => (\n    <div>\n        <Form.Item>\n            <TextArea rows={4} onChange={onChange} value={value} />\n        </Form.Item>\n        <Form.Item style={{ textAlign: 'right' }}>\n            <Button onClick={onCancel} style={{ marginRight: 10 }}>\n                取消\n            </Button>\n            <Button htmlType=\"submit\" loading={submitting} onClick={onSubmit} type=\"primary\">\n                评论\n            </Button>\n        </Form.Item>\n    </div>\n);\n\nclass Reply extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            value: '',\n            submitting: false,\n        }\n    }\n\n    handleSubmit = () => {\n        if (!this.state.value) {\n            return;\n        }\n        let value = this.state.value;\n        let time = moment().format('YYYY-MM-DD HH:mm:ss');\n        if (this.props.commentid) {\n            let commentid = this.props.commentid;\n            this.props.replySubmit(commentid, value, time);\n        } else {\n            let commentid = \"\";\n            this.props.replySubmit(commentid, value, time);\n        }\n        this.setState({ value: '' });\n    };\n\n    handleChange = e => {\n        this.setState({\n            value: e.target.value,\n        });\n    };\n\n    onCancel = () => {\n        if (this.props.isMain === true) {\n            this.setState({ value: '' });\n        } else {\n            this.props.onCancel();\n        }\n    };\n\n    render() {\n        const { submitting, value } = this.state;\n        const { loginInfo } = this.props;\n        return (\n            <Comment\n                avatar={\n                    <Avatar\n                        src={loginInfo.loginAvatar}\n                        alt={loginInfo.loginName}\n                    />\n                }\n                content={\n                    <Editor\n                        onChange={this.handleChange}\n                        onSubmit={this.handleSubmit}\n                        submitting={submitting}\n                        onCancel={this.onCancel}\n                        value={value}\n                    />\n                }\n            />\n        );\n    }\n}\n\nexport default Reply;"],"file":"reply.js"}