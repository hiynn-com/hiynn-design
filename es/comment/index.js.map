{"version":3,"sources":["../../components/comment/index.js"],"names":["React","Component","CommentL","Reply","Demo","state","data","value","replyAllShow","handleSubmit","setState","handleChange","e","target","isShowAllReply","preState","componentDidMount","props","UNSAFE_componentWillReceiveProps","nextprops","render","pStyle","color","cursor","CommentList","comments","childlist","length","voteClick","loginInfo","replySubmit","item","slice"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { List, Divider } from 'antd';\nimport CommentL from './comment';\nimport Reply from \"./reply\";\n\nclass Demo extends Component {\n    state = {\n        data: [],\n        value: '',\n        replyAllShow: false,\n    };\n\n    componentDidMount() {\n        this.setState({\n            data: this.props.data\n        })\n    }\n\n    UNSAFE_componentWillReceiveProps(nextprops) {\n        if (this.props != nextprops) {\n            this.setState({\n                data: nextprops.data\n            })\n        }\n    }\n\n    handleSubmit = () => {\n        if (!this.state.value) {\n            return;\n        }\n        this.setState({ value: '' });\n    };\n\n    handleChange = e => {\n        this.setState({\n            value: e.target.value,\n        });\n    };\n    isShowAllReply = () => {\n        this.setState((preState) => {\n            return {\n                replyAllShow: !preState.replyAllShow\n            }\n        })\n    }\n    render() {\n        const { data, replyAllShow } = this.state\n        const pStyle = {\n            color:'blue',\n            cursor: 'pointer',\n        }\n        const CommentList = ({ comments }) => {\n            return <List\n                dataSource={comments}\n                itemLayout=\"horizontal\"\n                renderItem={\n                    props => {\n                        return props.childlist && props.childlist.length > 0 ? <CommentL voteClick={this.props.voteClick} singleComment={props} isMain={false} loginInfo={this.props.loginInfo} replySubmit={this.props.replySubmit}>\n                            {\n                                replyAllShow\n                                    ?\n                                    <List\n                                        dataSource={props.childlist}\n                                        itemLayout=\"horizontal\"\n                                        renderItem={item => <CommentL voteClick={this.props.voteClick} singleComment={item} />}\n                                    />\n                                    :\n                                    <List\n                                        dataSource={props.childlist.slice(0, 3)}\n                                        itemLayout=\"horizontal\"\n                                        renderItem={item => <CommentL voteClick={this.props.voteClick} singleComment={item} />}\n                                    />\n                            }\n                            {\n                                props.childlist.length > 3 ? (replyAllShow ?\n                                    <p onClick={this.isShowAllReply} style={pStyle}>收起</p>\n                                    :\n                                    <p onClick={this.isShowAllReply} style={pStyle}>展示全部{props.childlist.length}条评论 >></p>)\n                                    : ''\n                            }\n                        </CommentL>\n                            :\n                            <CommentL singleComment={props} voteClick={this.props.voteClick} isMain={false} loginInfo={this.props.loginInfo} replySubmit={this.props.replySubmit} />\n                    }\n                }\n            />\n        };\n\n        return (\n            <div>\n                <Reply loginInfo={this.props.loginInfo} isMain={true} replySubmit={this.props.replySubmit} />\n                <Divider />\n                {data.length > 0 && <CommentList comments={data} />}\n            </div>\n        );\n    }\n}\n\nexport default Demo;"],"file":"index.js"}