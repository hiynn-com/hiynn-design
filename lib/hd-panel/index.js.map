{"version":3,"sources":["../../components/hd-panel/index.js"],"names":["cmpClsName","defaultH","flexMapping","left","middle","right","sizeValidationFn","props","propName","componentName","val","reg","test","Error","hexValidationFn","Panel","setClassName","className","cls","style","prefixCls","getSize","width","unitConvertor","height","String","includes","computeStyle","wrapperStyle","titleStyle","contentStyle","sizeRst","titleHeight","titleCornerRadius","titleFont","borderRadius","titleBackground","titleColor","color","background","fontSize","justifyContent","contentHeight","render","title","children","Component","propTypes","PropTypes","string","oneOf","defaultProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport classNames from \"classnames\";\nimport { style } from \"../context/style-context\";\n\n// 组件容器的类名，前面需加上前缀‘hd’\nconst cmpClsName = \"panel\";\n\n// 默认的高度样式\nconst defaultH = \"auto\";\n\n// 标题栏字体对齐方式的映射\nconst flexMapping = {\n  left: \"flex-start\",\n  middle: \"center\",\n  right: \"flex-end\"\n};\n\n// 宽高的props输入验证函数\nconst sizeValidationFn = (props, propName, componentName) => {\n  const val = props[propName];\n  if (val === defaultH) {\n    return;\n  }\n  const reg = /[0-9]+%?/g;\n  if (!reg.test(val)) {\n    return new Error(`传给组件${componentName}的属性${propName}的值不合法，校验失败`);\n  }\n};\n\n// 十六进制数输入的验证函数\nconst hexValidationFn = (props, propName, componentName) => {\n  const val = props[propName];\n  if (val === \"not specified\") {\n    return;\n  }\n  const reg = /^#[0-9a-fA-F]{6}$/g;\n  if (!reg.test(val)) {\n    return new Error(`传给组件${componentName}的属性${propName}的值不合法，校验失败`);\n  }\n};\n\nexport default class Panel extends Component {\n  // 类型检查\n  static propTypes = {\n    width: sizeValidationFn, // panel宽度\n    height: sizeValidationFn, // panel高度\n    [\"corner-radius\"]: PropTypes.string, // 标题栏圆角\n    title: PropTypes.string, // 标题栏内容\n    [\"title-height\"]: sizeValidationFn, // 标题栏高度\n    [\"title-background\"]: hexValidationFn, // 标题栏背景色\n    [\"title-color\"]: hexValidationFn, // 标题栏字体颜色\n    [\"text-align\"]: PropTypes.oneOf([\"left\", \"middle\", \"right\"]), // 标题栏标题位置\n    [\"title-fontsize\"]: PropTypes.string, // 标题栏字体大小\n    background: hexValidationFn, // 内容区背景色\n    color: hexValidationFn // 内容区字体颜色\n  };\n\n  // 默认props\n  static defaultProps = {\n    width: \"400\", // 宽度\n    height: \"auto\", // 高度\n    [\"corner-radius\"]: \"5\", // 标题栏圆角\n    title: \"\", // 标题栏内容\n    [\"title-height\"]: \"30\", // 标题栏高度\n    [\"title-background\"]: \"#1890FF\", // 标题栏背景色\n    [\"title-color\"]: \"#ffffff\", // 标题栏字体颜色\n    [\"title-fontsize\"]: \"16\", // 标题栏字体大小\n    [\"text-align\"]: \"left\", // 标题栏字体对齐方式\n    background: \"not specified\", // 内容区背景色\n    color: \"#000000\" // 内容区字体颜色\n  };\n\n  constructor(props) {\n    super(props);\n  }\n\n  /**\n   * 获取类名\n   */\n  setClassName() {\n    const { className } = this.props;\n    let cls = classNames(`${style.prefixCls}-${cmpClsName}`, className);\n    return cls;\n  }\n\n  /**\n   * 获取宽高、大小等的尺寸对象\n   */\n  getSize() {\n    return {\n      width: this.unitConvertor(this.props.width),\n      height: this.unitConvertor(this.props.height),\n      [\"title-height\"]: this.unitConvertor(this.props[\"title-height\"]),\n      [\"corner-radius\"]: this.unitConvertor(this.props[\"corner-radius\"]),\n      [\"title-fontsize\"]: this.unitConvertor(this.props[\"title-fontsize\"])\n    };\n  }\n\n  /**\n   * 输入数字，则后面添加单位px，输入百分比则原样输出\n   * @param {*} val\n   */\n  unitConvertor(val) {\n    if (String(val).includes(\"%\")) {\n      return val;\n    } else {\n      return val + \"px\";\n    }\n  }\n\n  computeStyle() {\n    let wrapperStyle = {},\n      titleStyle = {},\n      contentStyle = {};\n\n    // 设置宽高样式\n    const sizeRst = this.getSize();\n    const { width, height } = sizeRst;\n    const titleHeight = sizeRst[\"title-height\"];\n    const titleCornerRadius = sizeRst[\"corner-radius\"];\n    const titleFont = sizeRst[\"title-fontsize\"];\n    // 容器宽高\n    wrapperStyle = {\n      ...wrapperStyle,\n      width,\n      height,\n      borderRadius: `${titleCornerRadius} ${titleCornerRadius} 0 0`\n    };\n    // 标题栏宽高\n    titleStyle = {\n      ...titleStyle,\n      height: titleHeight\n    };\n\n    // 设置其他标题栏样式\n    const titleBackground = this.props[\"title-background\"];\n    const titleColor = this.props[\"title-color\"];\n    titleStyle = {\n      ...titleStyle,\n      color: titleColor,\n      background: titleBackground,\n      borderRadius: `${titleCornerRadius} ${titleCornerRadius} 0 0`,\n      fontSize: titleFont,\n      justifyContent: flexMapping[this.props[\"text-align\"]]\n    };\n\n    // 设置内容区其他样式\n    const background = this.props[\"background\"];\n    const color = this.props[\"color\"];\n    const contentHeight = `calc(${height} - ${titleHeight})`;\n    contentStyle = {\n      ...contentStyle,\n      background,\n      color,\n      height: contentHeight\n    };\n\n    return {\n      wrapperStyle,\n      titleStyle,\n      contentStyle\n    };\n  }\n\n  render() {\n    const cls = this.setClassName();\n    const { wrapperStyle, titleStyle, contentStyle } = this.computeStyle();\n\n    return (\n      <div className={cls} style={wrapperStyle} {...this.props}>\n        <div className={`${cls}-title`} style={titleStyle}>\n          {this.props.title}\n        </div>\n        <div className={`${cls}-content`} style={contentStyle}>\n          {this.props.children}\n        </div>\n      </div>\n    );\n  }\n}\n"],"file":"index.js"}